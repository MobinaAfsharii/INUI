from inui.config.replaces import replace
from inui.prettify import Pretiffy


class BaseSVG:
    def __init__(
            self,
            data=(),
            attributes={},
            accent_height = None,
            accumulate = None,
            additive = None,
            alignment_baseline = None,
            alphabetic = None,
            amplitude = None,
            arabic_form = None,
            ascent = None,
            attributeName = None,
            attributeType = None,
            azimuth = None,
            baseFrequency = None,
            baseline_shift = None,
            baseProfile = None,
            bbox = None,
            begin = None,
            bias = None,
            by = None,
            calcMode = None,
            cap_height = None,
            classs = None,
            clip = None,
            clip_path = None,
            clip_rule = None,
            clipPathUnits = None,
            color = None,
            color_interpolation = None,
            color_interpolation_filters = None,
            color_profile = None,
            contentScriptType = None,
            contentStyleType = None,
            cursor = None,
            cx = None,
            cy = None,
            d = None,
            data______ = None,
            decoding = None,
            descent = None,
            diffuseConstant = None,
            direction = None,
            display = None,
            divisor = None,
            dominant_baseline = None,
            dur = None,
            dx = None,
            dy = None,
            edgeMode = None,
            elevation = None,
            enable_background = None,
            end = None,
            exponent = None,
            fill = None,
            fill_opacity = None,
            fill_rule = None,
            filter = None,
            filterRes = None,
            filterUnits = None,
            flood_color = None,
            flood_opacity = None,
            font_family = None,
            font_size = None,
            font_size_adjust = None,
            font_stretch = None,
            font_style = None,
            font_variant = None,
            font_weight = None,
            fr = None,
            fromm = None,
            fx = None,
            fy = None,
            g1 = None,
            g2 = None,
            glyph_name = None,
            glyph_orientation_horizontal = None,
            glyph_orientation_vertical = None,
            gradientTransform = None,
            gradientUnits = None,
            hanging = None,
            height = None,
            horiz_adv_x = None,
            horiz_origin_x = None,
            horiz_origin_y = None,
            href = None,
            id = None,
            ideographic = None,
            image_rendering = None,
            inn = None,
            in2 = None,
            intercept = None,
            k = None,
            k1 = None,
            k2 = None,
            k3 = None,
            k4 = None,
            kernelMatrix = None,
            kernelUnitLength = None,
            kerning = None,
            keyPoints = None,
            keySplines = None,
            keyTimes = None,
            lang = None,
            lengthAdjust = None,
            letter_spacing = None,
            lighting_color = None,
            limitingConeAngle = None,
            marker_end = None,
            marker_mid = None,
            marker_start = None,
            markerHeight = None,
            markerUnits = None,
            markerWidth = None,
            mask = None,
            maskContentUnits = None,
            maskUnits = None,
            mathematical = None,
            max = None,
            media = None,
            method = None,
            min = None,
            mode = None,
            name = None,
            numOctaves = None,
            onclick = None,
            opacity = None,
            operator = None,
            order = None,
            orient = None,
            orientation = None,
            origin = None,
            overflow = None,
            overline_position = None,
            overline_thickness = None,
            paint_order = None,
            panose_1 = None,
            path = None,
            pathLength = None,
            patternContentUnits = None,
            patternTransform = None,
            patternUnits = None,
            pointer_events = None,
            points = None,
            pointsAtX = None,
            pointsAtY = None,
            pointsAtZ = None,
            preserveAlpha = None,
            preserveAspectRatio = None,
            primitiveUnits = None,
            r = None,
            radius = None,
            refX = None,
            refY = None,
            repeatCount = None,
            repeatDur = None,
            requiredFeatures = None,
            restart = None,
            result = None,
            rotate = None,
            rx = None,
            ry = None,
            scale = None,
            seed = None,
            shape_rendering = None,
            side = None,
            slope = None,
            spacing = None,
            specularConstant = None,
            specularExponent = None,
            spreadMethod = None,
            startOffset = None,
            stdDeviation = None,
            stemh = None,
            stemv = None,
            stitchTiles = None,
            stop_color = None,
            stop_opacity = None,
            strikethrough_position = None,
            strikethrough_thickness = None,
            string = None,
            stroke = None,
            stroke_dasharray = None,
            stroke_dashoffset = None,
            stroke_linecap = None,
            stroke_linejoin = None,
            stroke_miterlimit = None,
            stroke_opacity = None,
            stroke_width = None,
            style = None,
            surfaceScale = None,
            SVG___attribute_____crossorigin = None,
            SVG___Conditional___Processing___Attributes = None,
            SVG___Core___Attributes = None,
            SVG___Event___Attributes = None,
            SVG___Presentation___Attributes = None,
            SVG___Styling___Attributes = None,
            systemLanguage = None,
            tabindex = None,
            tableValues = None,
            target = None,
            targetX = None,
            targetY = None,
            text_anchor = None,
            text_decoration = None,
            text_rendering = None,
            textLength = None,
            to = None,
            transform = None,
            transform_origin = None,
            typee= None,
            u1 = None,
            u2 = None,
            underline_position = None,
            underline_thickness = None,
            unicode = None,
            unicode_bidi = None,
            unicode_range = None,
            units_per_em = None,
            v_alphabetic = None,
            v_hanging = None,
            v_ideographic = None,
            v_mathematical = None,
            values = None,
            vector_effect = None,
            version = None,
            vert_adv_y = None,
            vert_origin_x = None,
            vert_origin_y = None,
            viewBox = None,
            viewTarget = None,
            visibility = None,
            width = None,
            widths = None,
            word_spacing = None,
            writing_mode = None,
            x = None,
            x_height = None,
            x1 = None,
            x2 = None,
            xChannelSelector = None,
            xlink__arcrole = None,
            xlink__href = None,
            xlink__show = None,
            xlink__title = None,
            xlink__type = None,
            xml__base = None,
            xml__lang = None,
            xml__space = None,
            y = None,
            y1 = None,
            y2 = None,
            yChannelSelector = None,
            z = None,
            zoomAndPan = None,
            startTagName=None,
            endTagName=None,
            tagName=None,
        ):
        self.accent_height = accent_height
        self.accumulate = accumulate
        self.additive = additive
        self.alignment_baseline = alignment_baseline
        self.alphabetic = alphabetic
        self.amplitude = amplitude
        self.arabic_form = arabic_form
        self.ascent = ascent
        self.attributeName = attributeName
        self.attributeType = attributeType
        self.azimuth = azimuth
        self.baseFrequency = baseFrequency
        self.baseline_shift = baseline_shift
        self.baseProfile = baseProfile
        self.bbox = bbox
        self.begin = begin
        self.bias = bias
        self.by = by
        self.calcMode = calcMode
        self.cap_height = cap_height
        self.classs = classs
        self.clip = clip
        self.clip_path = clip_path
        self.clip_rule = clip_rule
        self.clipPathUnits = clipPathUnits
        self.color = color
        self.color_interpolation = color_interpolation
        self.color_interpolation_filters = color_interpolation_filters
        self.color_profile = color_profile
        self.contentScriptType = contentScriptType
        self.contentStyleType = contentStyleType
        self.cursor = cursor
        self.cx = cx
        self.cy = cy
        self.d = d
        self.data______ = data______
        self.decoding = decoding
        self.descent = descent
        self.diffuseConstant = diffuseConstant
        self.direction = direction
        self.display = display
        self.divisor = divisor
        self.dominant_baseline = dominant_baseline
        self.dur = dur
        self.dx = dx
        self.dy = dy
        self.edgeMode = edgeMode
        self.elevation = elevation
        self.enable_background = enable_background
        self.end = end
        self.exponent = exponent
        self.fill = fill
        self.fill_opacity = fill_opacity
        self.fill_rule = fill_rule
        self.filter = filter
        self.filterRes = filterRes
        self.filterUnits = filterUnits
        self.flood_color = flood_color
        self.flood_opacity = flood_opacity
        self.font_family = font_family
        self.font_size = font_size
        self.font_size_adjust = font_size_adjust
        self.font_stretch = font_stretch
        self.font_style = font_style
        self.font_variant = font_variant
        self.font_weight = font_weight
        self.fr = fr
        self.fromm = fromm
        self.fx = fx
        self.fy = fy
        self.g1 = g1
        self.g2 = g2
        self.glyph_name = glyph_name
        self.glyph_orientation_horizontal = glyph_orientation_horizontal
        self.glyph_orientation_vertical = glyph_orientation_vertical
        self.gradientTransform = gradientTransform
        self.gradientUnits = gradientUnits
        self.hanging = hanging
        self.height = height
        self.horiz_adv_x = horiz_adv_x
        self.horiz_origin_x = horiz_origin_x
        self.horiz_origin_y = horiz_origin_y
        self.href = href
        self.id = id
        self.ideographic = ideographic
        self.image_rendering = image_rendering
        self.inn = inn
        self.in2 = in2
        self.intercept = intercept
        self.k = k
        self.k1 = k1
        self.k2 = k2
        self.k3 = k3
        self.k4 = k4
        self.kernelMatrix = kernelMatrix
        self.kernelUnitLength = kernelUnitLength
        self.kerning = kerning
        self.keyPoints = keyPoints
        self.keySplines = keySplines
        self.keyTimes = keyTimes
        self.lang = lang
        self.lengthAdjust = lengthAdjust
        self.letter_spacing = letter_spacing
        self.lighting_color = lighting_color
        self.limitingConeAngle = limitingConeAngle
        self.marker_end = marker_end
        self.marker_mid = marker_mid
        self.marker_start = marker_start
        self.markerHeight = markerHeight
        self.markerUnits = markerUnits
        self.markerWidth = markerWidth
        self.mask = mask
        self.maskContentUnits = maskContentUnits
        self.maskUnits = maskUnits
        self.mathematical = mathematical
        self.max = max
        self.media = media
        self.method = method
        self.min = min
        self.mode = mode
        self.name = name
        self.numOctaves = numOctaves
        self.onclick = onclick
        self.opacity = opacity
        self.operator = operator
        self.order = order
        self.orient = orient
        self.orientation = orientation
        self.origin = origin
        self.overflow = overflow
        self.overline_position = overline_position
        self.overline_thickness = overline_thickness
        self.paint_order = paint_order
        self.panose_1 = panose_1
        self.path = path
        self.pathLength = pathLength
        self.patternContentUnits = patternContentUnits
        self.patternTransform = patternTransform
        self.patternUnits = patternUnits
        self.pointer_events = pointer_events
        self.points = points
        self.pointsAtX = pointsAtX
        self.pointsAtY = pointsAtY
        self.pointsAtZ = pointsAtZ
        self.preserveAlpha = preserveAlpha
        self.preserveAspectRatio = preserveAspectRatio
        self.primitiveUnits = primitiveUnits
        self.r = r
        self.radius = radius
        self.refX = refX
        self.refY = refY
        self.repeatCount = repeatCount
        self.repeatDur = repeatDur
        self.requiredFeatures = requiredFeatures
        self.restart = restart
        self.result = result
        self.rotate = rotate
        self.rx = rx
        self.ry = ry
        self.scale = scale
        self.seed = seed
        self.shape_rendering = shape_rendering
        self.side = side
        self.slope = slope
        self.spacing = spacing
        self.specularConstant = specularConstant
        self.specularExponent = specularExponent
        self.spreadMethod = spreadMethod
        self.startOffset = startOffset
        self.stdDeviation = stdDeviation
        self.stemh = stemh
        self.stemv = stemv
        self.stitchTiles = stitchTiles
        self.stop_color = stop_color
        self.stop_opacity = stop_opacity
        self.strikethrough_position = strikethrough_position
        self.strikethrough_thickness = strikethrough_thickness
        self.string = string
        self.stroke = stroke
        self.stroke_dasharray = stroke_dasharray
        self.stroke_dashoffset = stroke_dashoffset
        self.stroke_linecap = stroke_linecap
        self.stroke_linejoin = stroke_linejoin
        self.stroke_miterlimit = stroke_miterlimit
        self.stroke_opacity = stroke_opacity
        self.stroke_width = stroke_width
        self.style = style
        self.surfaceScale = surfaceScale
        self.SVG___attribute_____crossorigin = SVG___attribute_____crossorigin
        self.SVG___Conditional___Processing___Attributes = SVG___Conditional___Processing___Attributes
        self.SVG___Core___Attributes = SVG___Core___Attributes
        self.SVG___Event___Attributes = SVG___Event___Attributes
        self.SVG___Presentation___Attributes = SVG___Presentation___Attributes
        self.SVG___Styling___Attributes = SVG___Styling___Attributes
        self.systemLanguage = systemLanguage
        self.tabindex = tabindex
        self.tableValues = tableValues
        self.target = target
        self.targetX = targetX
        self.targetY = targetY
        self.text_anchor = text_anchor
        self.text_decoration = text_decoration
        self.text_rendering = text_rendering
        self.textLength = textLength
        self.to = to
        self.transform = transform
        self.transform_origin = transform_origin
        self.typee = typee
        self.u1 = u1
        self.u2 = u2
        self.underline_position = underline_position
        self.underline_thickness = underline_thickness
        self.unicode = unicode
        self.unicode_bidi = unicode_bidi
        self.unicode_range = unicode_range
        self.units_per_em = units_per_em
        self.v_alphabetic = v_alphabetic
        self.v_hanging = v_hanging
        self.v_ideographic = v_ideographic
        self.v_mathematical = v_mathematical
        self.values = values
        self.vector_effect = vector_effect
        self.version = version
        self.vert_adv_y = vert_adv_y
        self.vert_origin_x = vert_origin_x
        self.vert_origin_y = vert_origin_y
        self.viewBox = viewBox
        self.viewTarget = viewTarget
        self.visibility = visibility
        self.width = width
        self.widths = widths
        self.word_spacing = word_spacing
        self.writing_mode = writing_mode
        self.x = x
        self.x_height = x_height
        self.x1 = x1
        self.x2 = x2
        self.xChannelSelector = xChannelSelector
        self.xlink__arcrole = xlink__arcrole
        self.xlink__href = xlink__href
        self.xlink__show = xlink__show
        self.xlink__title = xlink__title
        self.xlink__type = xlink__type
        self.xml__base = xml__base
        self.xml__lang = xml__lang
        self.xml__space = xml__space
        self.y = y
        self.y1 = y1
        self.y2 = y2
        self.yChannelSelector = yChannelSelector
        self.z = z
        self.zoomAndPan = zoomAndPan
    def toHtml(self, prettify: bool = True):
        starttag = ""
        endtag = ""
        if self.tagname != None:
            starttag = self.tagname
            endtag = self.tagname
        if self.startTagName != None:
            starttag = self.tagname
            endtag = self.startTagName
            if self.endTagName != None:
                endtag = self.endTagName
        html = f"""\n<{starttag} {self.attributesToHtml()}>\n{self.dataToHtml()}\n</{endtag}>"""
        if prettify:
            return str(Pretiffy(html))
        return str(html)

    def dataToHtml(self):
        if type(self.data) in [list, set, tuple]:
            text = ""
            for i in self.data:
                text += str(i)
        else:
            return str(self.data)
        return text

    def attributesToHtml(self):
        text = ""
        for i in self.__dict__:
            if self.__dict__[i] != None and i not in [
                "data",
                "attributes",
                "startTagName",
                "tagname",
                "endTagName",
                "laststate",
            ]:
                self.attributes[i] = self.__dict__[i]
        for attribute in self.attributes:
            name = replace(attribute)
            if type(self.attributes[attribute]) == str:
                text += '%s="%s" ' % (name, self.attributes[attribute])

            if type(self.attributes[attribute]) in [list, set, tuple]:
                text += '%s="%s" ' % (name, " ".join(self.attributes[attribute]))
        return text

    def save(self, filePath: str = "./out.svg", prettify: bool = True):
        with open(filePath, "w", encoding="utf-8") as f:
            f.write(self.toHtml(prettify=prettify))
            
